<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>API Specification | VeChain Docs</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="Everything you need to know about VeChainThor">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="keywords" content="vechain, documentation, docs, thor, connex, sync, official">
    <meta name="google-site-verification" content="yvT2mNLTy-gN9NFUXxNNJR7zIsWLrEvcWNZg_m91pwA">
    
    <link rel="preload" href="/assets/css/0.styles.1e33f674.css" as="style"><link rel="preload" href="/assets/js/app.4018d393.js" as="script"><link rel="preload" href="/assets/js/3.e8d6679f.js" as="script"><link rel="preload" href="/assets/js/22.235d3b31.js" as="script"><link rel="preload" href="/assets/js/12.bff1bb0a.js" as="script"><link rel="prefetch" href="/assets/js/10.b50ed1ce.js"><link rel="prefetch" href="/assets/js/11.3ddcd6ee.js"><link rel="prefetch" href="/assets/js/13.6c97bc73.js"><link rel="prefetch" href="/assets/js/14.29e72183.js"><link rel="prefetch" href="/assets/js/15.38c62c5e.js"><link rel="prefetch" href="/assets/js/16.4a7c12e0.js"><link rel="prefetch" href="/assets/js/17.b19c135d.js"><link rel="prefetch" href="/assets/js/18.bc04ad05.js"><link rel="prefetch" href="/assets/js/19.4aec5e7d.js"><link rel="prefetch" href="/assets/js/20.42cecf87.js"><link rel="prefetch" href="/assets/js/21.7a747eaa.js"><link rel="prefetch" href="/assets/js/23.f2dbe341.js"><link rel="prefetch" href="/assets/js/24.dc338c1f.js"><link rel="prefetch" href="/assets/js/25.ac9c47af.js"><link rel="prefetch" href="/assets/js/26.5c2ab12d.js"><link rel="prefetch" href="/assets/js/27.c359aeea.js"><link rel="prefetch" href="/assets/js/28.617ecf0c.js"><link rel="prefetch" href="/assets/js/29.b1970803.js"><link rel="prefetch" href="/assets/js/30.17c170db.js"><link rel="prefetch" href="/assets/js/31.2ee84ea9.js"><link rel="prefetch" href="/assets/js/32.651bf26e.js"><link rel="prefetch" href="/assets/js/33.8d4b2f76.js"><link rel="prefetch" href="/assets/js/34.24d8da7d.js"><link rel="prefetch" href="/assets/js/35.ad0da008.js"><link rel="prefetch" href="/assets/js/36.5c367c0f.js"><link rel="prefetch" href="/assets/js/37.e153e06b.js"><link rel="prefetch" href="/assets/js/38.18b19efb.js"><link rel="prefetch" href="/assets/js/39.a0b36443.js"><link rel="prefetch" href="/assets/js/4.a9552057.js"><link rel="prefetch" href="/assets/js/40.9f39bd57.js"><link rel="prefetch" href="/assets/js/41.4e058a15.js"><link rel="prefetch" href="/assets/js/42.4bfff46b.js"><link rel="prefetch" href="/assets/js/43.b3b15ec2.js"><link rel="prefetch" href="/assets/js/44.56a56c05.js"><link rel="prefetch" href="/assets/js/45.ca6603f8.js"><link rel="prefetch" href="/assets/js/46.616c2ab2.js"><link rel="prefetch" href="/assets/js/47.e43c630f.js"><link rel="prefetch" href="/assets/js/48.0096203e.js"><link rel="prefetch" href="/assets/js/49.a1d47933.js"><link rel="prefetch" href="/assets/js/5.73731419.js"><link rel="prefetch" href="/assets/js/50.35a8dde9.js"><link rel="prefetch" href="/assets/js/51.62dd6719.js"><link rel="prefetch" href="/assets/js/52.67ec8a7c.js"><link rel="prefetch" href="/assets/js/6.ac367f54.js"><link rel="prefetch" href="/assets/js/7.fc92430d.js"><link rel="prefetch" href="/assets/js/8.901640c8.js"><link rel="prefetch" href="/assets/js/9.02f743d4.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.7f7e78a4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1e33f674.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="VeChain Docs" class="logo"> <span class="site-name can-hide">VeChain Docs</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Thor" class="dropdown-title"><span class="title">Thor</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/thor/learn/" class="nav-link">
  Learn
</a></li><li class="dropdown-item"><!----> <a href="/thor/get-started/installation.html" class="nav-link">
  Get Started
</a></li><li class="dropdown-item"><!----> <a href="/thor/get-started/api.html" class="nav-link">
  Thorest API
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Connex" class="dropdown-title"><span class="title">Connex</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/connex/index.html" class="nav-link">
  Get Started
</a></li><li class="dropdown-item"><!----> <a href="/connex/api.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  API Specification
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Sync" class="dropdown-title"><span class="title">Sync</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Sync2
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/sync2/get-started.html" class="nav-link">
  Get Sync2
</a></li><li class="dropdown-subitem"><a href="/sync2/user-guide/" class="nav-link">
  User Guide
</a></li></ul></li><li class="dropdown-item"><h4>
          Sync
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/sync/download-and-install.html" class="nav-link">
  Download
</a></li><li class="dropdown-subitem"><a href="/sync/user-guide/" class="nav-link">
  User Guide
</a></li><li class="dropdown-subitem"><a href="/sync/faq.html" class="nav-link">
  FAQ
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/tutorials/" class="nav-link">
  Tutorials
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Resources" class="dropdown-title"><span class="title">Resources</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://explore.vechain.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Explorer
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://apps.vechain.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  App-hub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/others/miscellaneous.html" class="nav-link">
  Miscellaneous
</a></li><li class="dropdown-item"><!----> <a href="/others/demos-and-services.html" class="nav-link">
  Demos &amp; Services
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Online Support" class="dropdown-title"><span class="title">Online Support</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://t.me/vechain_official_english" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VeChain Official
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://t.me/VeChainDevCommunity" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dev Community
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/vechain/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Thor" class="dropdown-title"><span class="title">Thor</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/thor/learn/" class="nav-link">
  Learn
</a></li><li class="dropdown-item"><!----> <a href="/thor/get-started/installation.html" class="nav-link">
  Get Started
</a></li><li class="dropdown-item"><!----> <a href="/thor/get-started/api.html" class="nav-link">
  Thorest API
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Connex" class="dropdown-title"><span class="title">Connex</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/connex/index.html" class="nav-link">
  Get Started
</a></li><li class="dropdown-item"><!----> <a href="/connex/api.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  API Specification
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Sync" class="dropdown-title"><span class="title">Sync</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Sync2
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/sync2/get-started.html" class="nav-link">
  Get Sync2
</a></li><li class="dropdown-subitem"><a href="/sync2/user-guide/" class="nav-link">
  User Guide
</a></li></ul></li><li class="dropdown-item"><h4>
          Sync
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/sync/download-and-install.html" class="nav-link">
  Download
</a></li><li class="dropdown-subitem"><a href="/sync/user-guide/" class="nav-link">
  User Guide
</a></li><li class="dropdown-subitem"><a href="/sync/faq.html" class="nav-link">
  FAQ
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/tutorials/" class="nav-link">
  Tutorials
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Resources" class="dropdown-title"><span class="title">Resources</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://explore.vechain.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Explorer
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://apps.vechain.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  App-hub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/others/miscellaneous.html" class="nav-link">
  Miscellaneous
</a></li><li class="dropdown-item"><!----> <a href="/others/demos-and-services.html" class="nav-link">
  Demos &amp; Services
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Online Support" class="dropdown-title"><span class="title">Online Support</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://t.me/vechain_official_english" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VeChain Official
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://t.me/VeChainDevCommunity" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Dev Community
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/vechain/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/connex/" aria-current="page" class="sidebar-link">Connex</a></li><li><a href="/connex/api.html" aria-current="page" class="active sidebar-link">API Specification</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/connex/api.html#connex-thor" class="sidebar-link">Connex.Thor</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/connex/api.html#get-genesis-block-info" class="sidebar-link">Get Genesis Block Info</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#get-blockchain-status" class="sidebar-link">Get Blockchain Status</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#create-a-ticker" class="sidebar-link">Create a Ticker</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#account-visitor" class="sidebar-link">Account Visitor</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#block-visitor" class="sidebar-link">Block Visitor</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#transaction-visitor" class="sidebar-link">Transaction Visitor</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#filter" class="sidebar-link">Filter</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#explainer" class="sidebar-link">Explainer</a></li></ul></li><li class="sidebar-sub-header"><a href="/connex/api.html#connex-vendor" class="sidebar-link">Connex.Vendor</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/connex/api.html#acquire-a-signing-service" class="sidebar-link">Acquire a Signing Service</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#transaction-signing-service" class="sidebar-link">Transaction Signing Service</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#certificate-signing-service" class="sidebar-link">Certificate Signing Service</a></li></ul></li><li class="sidebar-sub-header"><a href="/connex/api.html#types" class="sidebar-link">Types</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/connex/api.html#thor-status" class="sidebar-link">Thor.Status</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#thor-block" class="sidebar-link">Thor.Block</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#thor-account" class="sidebar-link">Thor.Account</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#thor-transaction" class="sidebar-link">Thor.Transaction</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#thor-transaction-meta" class="sidebar-link">Thor.Transaction.Meta</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#thor-receipt" class="sidebar-link">Thor.Receipt</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#thor-receipt-output" class="sidebar-link">Thor.Receipt.Output</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#thor-receipt-meta" class="sidebar-link">Thor.Receipt.Meta</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#thor-filter-result" class="sidebar-link">Thor.Filter.Result</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#thor-filter-log-meta" class="sidebar-link">Thor.Filter.Log.Meta</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#vm-clause" class="sidebar-link">VM.Clause</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#vm-output" class="sidebar-link">VM.Output</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#vm-event" class="sidebar-link">VM.Event</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#vm-transfer" class="sidebar-link">VM.Transfer</a></li><li class="sidebar-sub-header"><a href="/connex/api.html#decoded" class="sidebar-link">Decoded</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="api-specification"><a href="#api-specification" class="header-anchor">#</a> API Specification</h1> <h2 id="connex-thor"><a href="#connex-thor" class="header-anchor">#</a> Connex.Thor</h2> <h3 id="get-genesis-block-info"><a href="#get-genesis-block-info" class="header-anchor">#</a> Get Genesis Block Info</h3> <p>Returns <a href="#thor-block">Thor.Block</a></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span>genesis<span class="token punctuation">)</span>

<span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token string">&quot;beneficiary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000000000000000&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;gasLimit&quot;</span><span class="token operator">:</span> <span class="token number">10000000</span><span class="token punctuation">,</span>
    <span class="token string">&quot;gasUsed&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x000000000b2bce3c70bc649a02749e8687721b09ed2e15997f466536b20bb127&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;number&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;parentID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xffffffff00000000000000000000000000000000000000000000000000000000&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;receiptsRoot&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x45b0cfc220ceec5b7c1c62c4d4193d38e4eba48e8815729ce75f9c0ab0e4c1c0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;signer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000000000000000&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">170</span><span class="token punctuation">,</span>
    <span class="token string">&quot;stateRoot&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x4ec3af0acbad1ae467ad569337d2fe8576fe303928d35b8cdd91de47e9ac84bb&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token number">1530014400</span><span class="token punctuation">,</span>
    <span class="token string">&quot;totalScore&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;transactions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;txsRoot&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x45b0cfc220ceec5b7c1c62c4d4193d38e4eba48e8815729ce75f9c0ab0e4c1c0&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="get-blockchain-status"><a href="#get-blockchain-status" class="header-anchor">#</a> Get Blockchain Status</h3> <p>Returns <a href="#thor-status">Thor.Status</a></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span>status<span class="token punctuation">)</span>

<span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token string">&quot;progress&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;head&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0016611b340204e5bd76a83f70eea4731575309f23a27e11011169c491359b7d&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;number&quot;</span><span class="token operator">:</span> <span class="token number">1466651</span><span class="token punctuation">,</span>
        <span class="token string">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token number">1544688650</span><span class="token punctuation">,</span>
        <span class="token string">&quot;parentID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0016611a3fc23044b8b4cbb27283b50f04deb4d132dfdd72342770f35206a8ad&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;txsFeatures&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string">&quot;gasLimit&quot;</span><span class="token operator">:</span> <span class="token number">16000000</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="create-a-ticker"><a href="#create-a-ticker" class="header-anchor">#</a> Create a Ticker</h3> <p><code>Ticker</code> is a concept that describes chain increment, when there is a new block added to the chain, ticker will be triggered. This API will create a ticker which has a function that creates a <code>Promise</code> that will resolve when a new block is truly added, please be advised that it never rejects.</p> <p>Returns <code>Thor.Ticker</code></p> <ul><li><code>next</code> - <a href="#thor-status">(): Promise&lt;Thor.Status['head']&gt;</a>: Call <code>next</code> will create a promise that resolves with the summary of head block when there is a new block added</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> ticker <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">ticker</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
ticker<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>head<span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>head<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// After a few seconds</span>
<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x00379f79ce016975dab2aa6ee21669b6ad4f4aa3fbb1ef1dfb151c52e13a8437&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;number&quot;</span><span class="token operator">:</span> <span class="token number">3645305</span><span class="token punctuation">,</span>
    <span class="token string">&quot;parentID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x00379f781a0035250669e6f5e5170b8cb384decbbb6a83917f823d920de5eed1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token number">1566874740</span><span class="token punctuation">,</span>
    <span class="token string">&quot;txsFeatures&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token string">&quot;gasLimit&quot;</span><span class="token operator">:</span> <span class="token number">16000000</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="account-visitor"><a href="#account-visitor" class="header-anchor">#</a> Account Visitor</h3> <p>Account visitor is a bunch of APIs to get account details and interact with account methods.</p> <h4 id="create-an-account-visitor"><a href="#create-an-account-visitor" class="header-anchor">#</a> Create an Account Visitor</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> acc <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">account</span><span class="token punctuation">(</span><span class="token string">'0x7567d83b7b8d80addcb281a71d54fc7b3364ffed'</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>Parameters</strong></p> <ul><li><code>address</code> - <code>string</code>: Account to visit</li></ul> <p>Returns <code>AccountVisitor</code></p> <ul><li><code>address</code> - <code>string(readonly)</code>: The address of account to be visited</li> <li><code>get</code> - <code>(): Promise&lt;Thor.Account&gt;</code>: Get the account detail</li> <li><code>getCode</code> - <code>(): Promise&lt;Thor.Account&gt;</code>: Get the account code</li> <li><code>getStorage</code> - <code>(key: string): Promise&lt;Thor.Account&gt;</code>: Get the account storage</li> <li><code>method</code> - <code>(abi: object): Method</code>: Create a method object, to perform contract call, or build transaction clause</li> <li><code>event</code> - <code>(abi: object): EventVisitor</code>: Create an event visitor</li></ul> <h4 id="get-account-detail"><a href="#get-account-detail" class="header-anchor">#</a> Get Account Detail</h4> <p>Returns <a href="#thor-account">Promise&lt;Thor.Account&gt;</a></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> acc <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">account</span><span class="token punctuation">(</span><span class="token string">'0x7567d83b7b8d80addcb281a71d54fc7b3364ffed'</span><span class="token punctuation">)</span>
acc<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>accInfo<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>accInfo<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token string">&quot;balance&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xe95ea52e8e07eddd24e&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;energy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x920d91d3ff3bb7f1d527&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;hasCode&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="get-account-code"><a href="#get-account-code" class="header-anchor">#</a> Get Account Code</h4> <p>Returns <code>Promise&lt;Thor.Code&gt;</code></p> <ul><li><code>code</code> - <code>string</code>: Contract code of an account</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> acc <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">account</span><span class="token punctuation">(</span><span class="token string">'0x0000000000000000000000000000456E65726779'</span><span class="token punctuation">)</span>
acc<span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>code<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token string">&quot;code&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x6080604052600436106100af576000357c010000000000000000000000000000000000...&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="get-account-storage"><a href="#get-account-storage" class="header-anchor">#</a> Get Account Storage</h4> <p><strong>Parameters</strong></p> <ul><li><code>key</code> - <code>string</code>: The key to accessing in  account storage</li></ul> <p>Returns <code>Promise&lt;Thor.Storage&gt;</code></p> <ul><li><code>value</code> - <code>string</code>: The value to the key in account storage</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> acc <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">account</span><span class="token punctuation">(</span><span class="token string">'0x0000000000000000000000000000456E65726779'</span><span class="token punctuation">)</span>
acc<span class="token punctuation">.</span><span class="token function">getStorage</span><span class="token punctuation">(</span><span class="token string">'0x0000000000000000000000000000000000000000000000000000000000000001'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>storage<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>storage<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token string">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x7107c9b15a7254dd92173d5421359b33bf40ea4ef0fa278ceaf1d320659d5c7b...&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="contract-method"><a href="#contract-method" class="header-anchor">#</a> Contract Method</h4> <p>Given the ABI of a contract, a <code>Thor.Method</code> object can be created to simulate a contract all without altering the contract state as well as pack a method with arguments to a clause that is ready to be signed.</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> nameABI <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;constant&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;outputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;string&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;payable&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;stateMutability&quot;</span><span class="token operator">:</span><span class="token string">&quot;pure&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;function&quot;</span><span class="token punctuation">}</span>

<span class="token keyword">const</span> acc <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">account</span><span class="token punctuation">(</span><span class="token string">'0x0000000000000000000000000000456E65726779'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> method <span class="token operator">=</span> acc<span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span>nameABI<span class="token punctuation">)</span>
</code></pre></div><p><strong>Parameters</strong></p> <ul><li><code>abi</code> - <code>object</code>: ABI definition of a contract method</li></ul> <p>Returns <code>Thor.Method</code></p> <ul><li><code>value</code> - <code>(val: string|number):this</code>: Set value for call and as Clause</li> <li><code>caller</code> - <code>(addr: string):this</code>: Set caller for call</li> <li><code>gas</code> - <code>(gas: string):this</code>: Set maximum gas allowed for call</li> <li><code>gasPrice</code> - <code>(gp: string):this</code>: Set gas price for call in wei</li> <li><code>gasPayer</code> - <code>(addr: string):this</code>: Set gas payer for call</li> <li><code>call</code>: Simulate calling the method to obtain the output without altering the blockchain state</li> <li><code>asClause</code>: Pack arguments and value into a clause</li> <li><code>transact</code>: Pack arguments and value into an <a href="#transaction-signing-service">Vendor.TxSigningService</a> for committing to the blockchain</li></ul> <h5 id="simulate-a-contract-call"><a href="#simulate-a-contract-call" class="header-anchor">#</a> Simulate a Contract Call</h5> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token function">Method</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token constant">VM</span><span class="token punctuation">.</span>Output<span class="token operator">&amp;</span>Decoded<span class="token operator">&gt;</span>
</code></pre></div><p><strong>Parameters</strong></p> <ul><li><code>...arguments</code> - <code>Array&lt;any&gt;</code>: Arguments defined in method ABI</li></ul> <p>Returns <a href="#vm-output">Promise&lt;VM.Output&amp;Decoded&gt;</a></p> <p><em>Decoded will be present only the ABI definition is provided</em></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// Simulate get name from a VIP-180 compatible contract</span>
<span class="token comment">// Solidity: function name() public pure returns(string)</span>
<span class="token keyword">const</span> nameABI <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;constant&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;outputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;string&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;payable&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;stateMutability&quot;</span><span class="token operator">:</span><span class="token string">&quot;pure&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;function&quot;</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> nameMethod <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">account</span><span class="token punctuation">(</span><span class="token string">'0x0000000000000000000000000000456E65726779'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span>nameABI<span class="token punctuation">)</span>
<span class="token function">nameMethod</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>output<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000...&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;events&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;transfers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;gasUsed&quot;</span><span class="token operator">:</span> <span class="token number">605</span><span class="token punctuation">,</span>
    <span class="token string">&quot;reverted&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token string">&quot;vmError&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;decoded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;0&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VeThor&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Simulate the VIP-180 transfer 1 wei token from Alex to Bob</span>
<span class="token comment">// Solidity: function transfer(address _to, uint256 _amount) public returns(bool success)</span>
<span class="token keyword">const</span> transferABI <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;constant&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_to&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_amount&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;uint256&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;transfer&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;outputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;bool&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;payable&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;stateMutability&quot;</span><span class="token operator">:</span><span class="token string">&quot;nonpayable&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;function&quot;</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> transferMethod <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">account</span><span class="token punctuation">(</span><span class="token string">'0x0000000000000000000000000000456E65726779'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span>transferABI<span class="token punctuation">)</span>
<span class="token comment">// Set the args for simulate call</span>
transferMethod
    <span class="token punctuation">.</span><span class="token function">caller</span><span class="token punctuation">(</span><span class="token string">'0x7567d83b7b8d80addcb281a71d54fc7b3364ffed'</span><span class="token punctuation">)</span> <span class="token comment">// Bob's address</span>
    <span class="token punctuation">.</span><span class="token function">gas</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">)</span> <span class="token comment">// Max gas for simulate </span>
    <span class="token punctuation">.</span><span class="token function">gasPrice</span><span class="token punctuation">(</span><span class="token string">'1000000000000000'</span><span class="token punctuation">)</span> <span class="token comment">// 1 VeThor can buy 1000 gas</span>

<span class="token comment">// Alice's address and amount in wei</span>
<span class="token function">transferMethod</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">'0xd3ae78222beadb038203be21ed5ce7c9b1bff602'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>output<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000000000000000000000000000000000000001&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;events&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000456e65726779&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;topics&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;0x0000000000000000000000007567d83b7b8d80addcb281a71d54fc7b3364ffed&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;0x000000000000000000000000d3ae78222beadb038203be21ed5ce7c9b1bff602&quot;</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000000000000000000000000000000000000001&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;transfers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;gasUsed&quot;</span><span class="token operator">:</span> <span class="token number">13326</span><span class="token punctuation">,</span>
    <span class="token string">&quot;reverted&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token string">&quot;vmError&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;decoded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;0&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Simulate EnergyStation convertForEnergy call</span>
<span class="token comment">// Solidity:  function convertForEnergy(uint256 _minReturn) public payable</span>
<span class="token keyword">const</span> convertForEnergyABI <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;constant&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_minReturn&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;uint256&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;convertForEnergy&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;outputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;uint256&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;payable&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;stateMutability&quot;</span><span class="token operator">:</span><span class="token string">&quot;payable&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;function&quot;</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> convertForEnergyMethod <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">account</span><span class="token punctuation">(</span><span class="token string">'0xd015d91b42bed5feaf242082b11b83b431abbf4f'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span>convertForEnergyABI<span class="token punctuation">)</span>
<span class="token comment">// Set value, leave other arguments unset</span>
convertForEnergyMethod
    <span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string">'1000000000000000000'</span><span class="token punctuation">)</span> <span class="token comment">// 1e18 wei</span>

<span class="token comment">// minReturn in wei(1e16 wei)</span>
<span class="token function">convertForEnergyMethod</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">'10000000000000000'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>output<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span> <span class="token operator">...</span>
</code></pre></div><h5 id="caching-a-contract-call"><a href="#caching-a-contract-call" class="header-anchor">#</a> Caching a Contract Call</h5> <div class="custom-block tip"><p class="custom-block-title">Quote</p> <p>There are only two hard things in Computer Science: <strong>cache invalidation</strong> and <strong>naming things</strong>.</p> <p>-- Phil Karlton</p></div> <p>Caching method calls would help developers to speed up their applications. Addresses are ideal to be the conditions of the cache invalidation because they are building states in smart contracts. We recommend developers use this caching mechanism carefully since it is primitive.</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code>Method<span class="token punctuation">.</span><span class="token function">cache</span><span class="token punctuation">(</span>hints<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">this</span>
</code></pre></div><p><strong>Parameters</strong></p> <ul><li><code>hints</code> - <code>Array&lt;string&gt;</code>: Turn on caching for the method and set the condition of cache invalidation.</li></ul> <p>After turning cache on, connex will check everything on the blockchain that can be treated as address(included but not limited to):</p> <ul><li><code>Block.Signer</code></li> <li><code>Block.Beneficiary</code></li> <li><code>Transaction.Signer</code></li> <li><code>Receipt.GasPayer</code></li> <li><code>Receipt.Output.Event.Address</code></li> <li><code>Receipt.Output.Event.ContractAddress</code></li> <li><code>Receipt.Output.Event.Topics</code></li> <li><code>Receipt.Output.Transfer.Sender</code></li> <li><code>Receipt.Output.Transfer.Recipient</code></li></ul> <p>Once any address in the set is observed by connex, the cache would be expired.</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// Caching for method name, return value should never expire</span>
<span class="token comment">// Solidity: function name() public pure returns(string)</span>
<span class="token keyword">const</span> nameABI <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;constant&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;outputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;string&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;payable&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;stateMutability&quot;</span><span class="token operator">:</span><span class="token string">&quot;pure&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;function&quot;</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> nameMethod <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">account</span><span class="token punctuation">(</span><span class="token string">'0x0000000000000000000000000000456E65726779'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span>nameABI<span class="token punctuation">)</span>
nameMethod<span class="token punctuation">.</span><span class="token function">cache</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">// Set this method to never expire</span>
<span class="token function">nameMethod</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>output<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// This will hit cache forever</span>

<span class="token comment">// Caching for method balanceOf, for my addresses</span>
<span class="token comment">// Solidity function balanceOf(address _owner) public view returns(uint256 balance) </span>
<span class="token keyword">const</span> balanceOfABI <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;constant&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_owner&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;balanceOf&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;outputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;balance&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;uint256&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;payable&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;stateMutability&quot;</span><span class="token operator">:</span><span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;function&quot;</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> balanceOfMethod <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">account</span><span class="token punctuation">(</span><span class="token string">'0x0000000000000000000000000000456E65726779'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span>balanceOfABI<span class="token punctuation">)</span>
<span class="token comment">// Set this method to expire when my account being seen</span>
balanceOfMethod<span class="token punctuation">.</span><span class="token function">cache</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'0x7567d83b7b8d80addcb281a71d54fc7b3364ffed'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// Get balance of my account, we will get cached result on most blocks</span>
<span class="token comment">// Event Transfer(_from = '0x7567d83b7b8d80addcb281a71d54fc7b3364ffed', ....) would make cache expired</span>
<span class="token function">balanceOfMethod</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">'0x7567d83b7b8d80addcb281a71d54fc7b3364ffed'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>output<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// Caching a DEX market's vet balance</span>
<span class="token comment">// Solidity: function vetVirtualBalance() public returns(bool uint104)</span>
<span class="token keyword">const</span> vetBalanceABI <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;constant&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;vetVirtualBalance&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;outputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;uint104&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;payable&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;stateMutability&quot;</span><span class="token operator">:</span><span class="token string">&quot;view&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;function&quot;</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> vetBalanceMethod <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">account</span><span class="token punctuation">(</span><span class="token string">'0xD015D91B42BEd5FeaF242082b11B83B431abBf4f'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span>vetBalanceABI<span class="token punctuation">)</span>
<span class="token comment">// Set this method to expire when the contract address being seen</span>
<span class="token comment">// Why? Because I am the developer of EnergyStation and I know the detail of the contract</span>
<span class="token comment">// vetVirtualBalance changes when there is any conversion executed and every conversion would trigger an event</span>
<span class="token comment">// and every event's output will contain contractAddress, so I set the contractAddress to the condition</span>
vetBalanceMethod<span class="token punctuation">.</span><span class="token function">cache</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'0xD015D91B42BEd5FeaF242082b11B83B431abBf4f'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token function">vetBalanceMethod</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">'0xD015D91B42BEd5FeaF242082b11B83B431abBf4f'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>output<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// This will get the vetVirtualBalance efficiently</span>
</code></pre></div><h5 id="commit-to-blockchain"><a href="#commit-to-blockchain" class="header-anchor">#</a> Commit to blockchain</h5> <div class="language-typescript extra-class"><pre class="language-typescript"><code>Method<span class="token punctuation">.</span><span class="token function">transact</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> Vendor<span class="token punctuation">.</span>TxSigningService
</code></pre></div><p><strong>Parameters</strong></p> <ul><li><code>...arguments</code> - <code>Array&lt;any&gt;</code>: Arguments defined in method ABI</li></ul> <p>Returns <a href="#transaction-signing-service">Vendor.TxSigningService</a></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// Perform a VIP-180 transfer 1 wei token from Alex to Bob</span>
<span class="token comment">// Solidity: function transfer(address _to, uint256 _amount) public returns(bool success)</span>
<span class="token keyword">const</span> transferABI <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;constant&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_to&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_amount&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;uint256&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;transfer&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;outputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;bool&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;payable&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;stateMutability&quot;</span><span class="token operator">:</span><span class="token string">&quot;nonpayable&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;function&quot;</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> transferMethod <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">account</span><span class="token punctuation">(</span><span class="token string">'0x0000000000000000000000000000456E65726779'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span>transferABI<span class="token punctuation">)</span>

transferMethod
    <span class="token comment">// Bob's address and amount in wei</span>
    <span class="token punctuation">.</span><span class="token function">transact</span><span class="token punctuation">(</span><span class="token string">'0xd3ae78222beadb038203be21ed5ce7c9b1bff602'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">comment</span><span class="token punctuation">(</span><span class="token string">'transfer 1 wei to Alice'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token string">&quot;signer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x7567d83b7b8d80addcb281a71d54fc7b3364ffed&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;txId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x4e9a7eec33ef6cfff8ff5589211a94070a0284df17c2ead6267f1913169bd340&quot;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Converts 1 VET to VeThor</span>
<span class="token comment">// Solidity: function convertForEnergy(uint256 _minReturn) public payable</span>
<span class="token keyword">const</span> convertForEnergyABI <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;constant&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_minReturn&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;uint256&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;convertForEnergy&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;outputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;uint256&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;payable&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;stateMutability&quot;</span><span class="token operator">:</span><span class="token string">&quot;payable&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;function&quot;</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> convertForEnergyMethod <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">account</span><span class="token punctuation">(</span><span class="token string">'0x0000000000000000000000000000456E65726779'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span>convertForEnergyABI<span class="token punctuation">)</span>

convertForEnergyMethod
    <span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token string">'1000000000000000000'</span><span class="token punctuation">)</span> <span class="token comment">// Set value to 1e18</span>
    <span class="token punctuation">.</span><span class="token function">transact</span><span class="token punctuation">(</span><span class="token string">'10000000000000000'</span><span class="token punctuation">)</span> <span class="token comment">// minReturn in wei(1e16 wei)</span>
    <span class="token punctuation">.</span><span class="token function">comment</span><span class="token punctuation">(</span><span class="token string">'Convert 1 VET to VeThor'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token string">&quot;signer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x7567d83b7b8d80addcb281a71d54fc7b3364ffed&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;txId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x4e9a7eec33ef6cfff8ff5589211a94070a0284df17c2ead6267f1913169bd340&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="create-a-clause-for-signing"><a href="#create-a-clause-for-signing" class="header-anchor">#</a> Create a Clause for Signing</h5> <div class="language-typescript extra-class"><pre class="language-typescript"><code>Method<span class="token punctuation">.</span><span class="token function">asClause</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">VM</span><span class="token punctuation">.</span>Clause
</code></pre></div><p><strong>Parameters</strong></p> <ul><li><code>...arguments</code> - <code>Array&lt;any&gt;</code>: Arguments defined in method ABI</li></ul> <p>Returns <a href="#vm-clause">VM.Clause</a></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// Convert 1 VeThor to VET, which needs to perform two action approve VeThor and convertForVET</span>
<span class="token keyword">const</span> dex <span class="token operator">=</span> <span class="token string">'0xD015D91B42BEd5FeaF242082b11B83B431abBf4f'</span>
<span class="token keyword">const</span> approveABI <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;constant&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_spender&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_value&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;uint256&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;approve&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;outputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;bool&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;payable&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;stateMutability&quot;</span><span class="token operator">:</span><span class="token string">&quot;nonpayable&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;function&quot;</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> approveMethod <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">account</span><span class="token punctuation">(</span><span class="token string">'0x0000000000000000000000000000456E65726779'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span>transferABI<span class="token punctuation">)</span>
<span class="token keyword">const</span> convertForVetABI<span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;constant&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_sellAmount&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;uint256&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_minReturn&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;uint256&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;convertForVET&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;outputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;uint256&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;payable&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;stateMutability&quot;</span><span class="token operator">:</span><span class="token string">&quot;nonpayable&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;function&quot;</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> convertForVetMethod <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">account</span><span class="token punctuation">(</span>dex<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span>convertForVetABI<span class="token punctuation">)</span>

<span class="token comment">// approve dex to move my 1e18 wei VeThor</span>
<span class="token keyword">const</span> c1 <span class="token operator">=</span> approveMethod<span class="token punctuation">.</span><span class="token function">asClause</span><span class="token punctuation">(</span>dex<span class="token punctuation">,</span> <span class="token string">'1000000000000000000'</span><span class="token punctuation">)</span>
<span class="token comment">// convert 1e18 wei VeThor to VET, minimum return at 1e16 wei VET</span>
<span class="token keyword">const</span> c2 <span class="token operator">=</span> convertForVetMethod<span class="token punctuation">.</span><span class="token function">asClause</span><span class="token punctuation">(</span><span class="token string">'1000000000000000000'</span><span class="token punctuation">,</span> <span class="token string">'10000000000000000'</span><span class="token punctuation">)</span>

connex<span class="token punctuation">.</span>vendor
    <span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span><span class="token string">'tx'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>c1<span class="token punctuation">,</span> c2<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">comment</span><span class="token punctuation">(</span><span class="token string">'convert 1 VeThor to VET'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token string">&quot;to&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000456E65726779&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xa9059cb......&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="contract-event"><a href="#contract-event" class="header-anchor">#</a> Contract Event</h4> <p>Given the ABI of a contract, we can create a <code>Thor.Event</code> object that will be able to filter contracts events with arguments or pack the arguments to criteria for assembling combined filters.</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> transferEventABI <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;anonymous&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;indexed&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_from&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;indexed&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_to&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;indexed&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_value&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;uint256&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Transfer&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;event&quot;</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> acc <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">account</span><span class="token punctuation">(</span><span class="token string">'0x0000000000000000000000000000456E65726779'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> event <span class="token operator">=</span> acc<span class="token punctuation">.</span><span class="token function">event</span><span class="token punctuation">(</span>transferEventABI<span class="token punctuation">)</span>
</code></pre></div><p><strong>Parameters</strong></p> <ul><li><code>abi</code> - <code>object</code>: ABI definition of contract event</li></ul> <p>Returns <code>Thor.Event</code></p> <ul><li><code>asCriteria</code>: Pack indexed arguments into criteria for future use, see <a href="#filter">Thor.Filter</a></li> <li><code>filter</code>: Create an event filter, only accept indexed arguments, see <a href="#filter">Thor.Filter</a></li></ul> <h5 id="pack-into-criteria"><a href="#pack-into-criteria" class="header-anchor">#</a> Pack into Criteria</h5> <div class="language-typescript extra-class"><pre class="language-typescript"><code>Event<span class="token punctuation">.</span><span class="token function">asCriteria</span><span class="token punctuation">(</span>indexed<span class="token operator">:</span> object<span class="token punctuation">)</span><span class="token operator">:</span> Thor<span class="token punctuation">.</span>Filter<span class="token punctuation">.</span>Criteria
</code></pre></div><p><strong>Parameters</strong></p> <ul><li><code>indexed</code> - <code>object</code>: Indexed arguments defined in event ABI that needs to be filtered, the items in the object will be combined with <code>AND</code> operator: e.g. {&quot;ConA&quot;: &quot;A&quot;, &quot;ConB&quot;: &quot;B&quot;} is '<code>ConA=A</code> AND <code>ConB=B</code>'</li></ul> <p>Returns <code>Thor.Filter.Criteria</code></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// Solidity: event Transfer(address indexed _from, address indexed _to, uint256 _value)</span>
<span class="token keyword">const</span> transferEventABI <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;anonymous&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;indexed&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_from&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;indexed&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_to&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;indexed&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_value&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;uint256&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Transfer&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;event&quot;</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> transferEvent <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">account</span><span class="token punctuation">(</span><span class="token string">'0x0000000000000000000000000000456E65726779'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">event</span><span class="token punctuation">(</span>transferEventABI<span class="token punctuation">)</span>

<span class="token comment">// Pack into criteria filters events that the '_to' is Bob's address</span>
<span class="token keyword">const</span> criteria <span class="token operator">=</span> transferEvent<span class="token punctuation">.</span><span class="token function">asCriteria</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    _to<span class="token operator">:</span> <span class="token string">'0xd3ae78222beadb038203be21ed5ce7c9b1bff602'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>criteria<span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token string">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000456E65726779&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;topic0&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;topic2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x000000000000000000000000d3ae78222beadb038203be21ed5ce7c9b1bff602&quot;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Next you can combine different criteria together and put them into filter</span>
</code></pre></div><h5 id="create-a-filter"><a href="#create-a-filter" class="header-anchor">#</a> Create a filter</h5> <div class="language-typescript extra-class"><pre class="language-typescript"><code>Event<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>indexed<span class="token operator">:</span> object<span class="token punctuation">)</span><span class="token operator">:</span> Thor<span class="token punctuation">.</span>Filter
</code></pre></div><p><strong>Parameters</strong></p> <ul><li><code>indexed</code> - <code>Array&lt;object&gt;</code>: Array of filter conditions of indexed arguments, the items in the array will be combined by <code>OR</code> operator to filter the events: e.g. [{&quot;ConA&quot;: &quot;A&quot;}, {&quot;ConB&quot;: &quot;B&quot;, &quot;ConC&quot;: &quot;C&quot;}] is '<code>ConA=A</code> OR (<code>ConB=B</code> AND <code>ConC=C</code>)'</li></ul> <p>Returns <a href="#filter">Thor.Filter</a></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// Solidity: event Transfer(address indexed _from, address indexed _to, uint256 _value)</span>
<span class="token keyword">const</span> transferEventABI <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;anonymous&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;indexed&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_from&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;indexed&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_to&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;indexed&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_value&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;uint256&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Transfer&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;event&quot;</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> transferEvent <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">account</span><span class="token punctuation">(</span><span class="token string">'0x0000000000000000000000000000456E65726779'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">event</span><span class="token punctuation">(</span>transferEventABI<span class="token punctuation">)</span>

<span class="token comment">// Filter the events whether '_to' is Bob's address or '_from' is Alice's address</span>
<span class="token keyword">const</span> filter <span class="token operator">=</span> transferEvent<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
    _to<span class="token operator">:</span> <span class="token string">'0xd3ae78222beadb038203be21ed5ce7c9b1bff602'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    _from<span class="token operator">:</span> <span class="token string">'0x733b7269443c70de16bbf9b0615307884bcc5636'</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// Next you can call the methods of Thor.Filter</span>
</code></pre></div><h5 id="execute-the-filter"><a href="#execute-the-filter" class="header-anchor">#</a> Execute the filter</h5> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token function">Filter</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>offset<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span> limit<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">Array</span><span class="token operator">&lt;</span>Thor<span class="token punctuation">.</span>Filter<span class="token punctuation">.</span>Result<span class="token punctuation">.</span>Log<span class="token operator">&amp;</span>Decoded<span class="token operator">&gt;&gt;</span>
</code></pre></div><p>Returns <a href="#thor-filter-result">Promise&lt;Array&lt;Thor.Filter.Result.Log&amp;Decoded&gt;&gt;</a></p> <p><em>Decoded will be present only the ABI definition is provided</em></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// Solidity: event Transfer(address indexed _from, address indexed _to, uint256 _value)</span>
<span class="token keyword">const</span> transferEventABI <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;anonymous&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;indexed&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_from&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;indexed&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_to&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;indexed&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_value&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;uint256&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Transfer&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;event&quot;</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> transferEvent <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">account</span><span class="token punctuation">(</span><span class="token string">'0x0000000000000000000000000000456E65726779'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">event</span><span class="token punctuation">(</span>transferEventABI<span class="token punctuation">)</span>

<span class="token comment">// Create a filter from eventABI</span>
<span class="token keyword">const</span> filter <span class="token operator">=</span> transferEvent<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
    _to<span class="token operator">:</span> <span class="token string">'0xd3ae78222beadb038203be21ed5ce7c9b1bff602'</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// Apply the filter, get the first one</span>
<span class="token function">filter</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>logs<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>logs<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000456e65726779&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;topics&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;0x0000000000000000000000007567d83b7b8d80addcb281a71d54fc7b3364ffed&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;0x00000000000000000000000000f34f4462c0f6a6f5e76fb1b6d63f05a32ed2c6&quot;</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000000000000000000000000de0b6b3a7640000&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;meta&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;blockID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0000813fbe48421dfdc9400f1f4e1d67ce34256538afd1c2149c4047d72c4175&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;blockNumber&quot;</span><span class="token operator">:</span> <span class="token number">33087</span><span class="token punctuation">,</span>
            <span class="token string">&quot;blockTimestamp&quot;</span><span class="token operator">:</span> <span class="token number">1530345270</span><span class="token punctuation">,</span>
            <span class="token string">&quot;txID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x29b0af3ffb8eff4cc48a24ce9a800aaf4d0e92b72dbcf17ce01b14fd01af1290&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;txOrigin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x7567d83b7b8d80addcb281a71d54fc7b3364ffed&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;clauseIndex&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;decoded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;0&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x7567D83b7b8d80ADdCb281A71d54Fc7B3364ffed&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x00F34f4462c0f6a6f5E76Fb1b6D63F05A32eD2C6&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000000000000000&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;_from&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x7567D83b7b8d80ADdCb281A71d54Fc7B3364ffed&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;_to&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x00F34f4462c0f6a6f5E76Fb1b6D63F05A32eD2C6&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;_value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000000000000000&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><h3 id="block-visitor"><a href="#block-visitor" class="header-anchor">#</a> Block Visitor</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> blk <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">block</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>Parameters</strong></p> <ul><li><code>revision</code> - <code>number|string|undefined</code>: Block number or ID to visit or leave it unset the function will get the latest block ID as the revision (As long as the revision is set, it can't be changed again)</li></ul> <p>Returns <code>Thor.BlockVisitor</code></p> <ul><li><code>revision</code> - <code>number|string(readonly)</code>: Block number or ID to be visited.</li></ul> <h4 id="get-block-detail"><a href="#get-block-detail" class="header-anchor">#</a> Get Block Detail</h4> <p>Returns <a href="#thor-block">Promise&lt;Thor.Block&gt;</a></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> blk<span class="token operator">=</span>connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">block</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

blk<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>block<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>block<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token string">&quot;number&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x000000000b2bce3c70bc649a02749e8687721b09ed2e15997f466536b20bb127&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">170</span><span class="token punctuation">,</span>
    <span class="token string">&quot;parentID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xffffffff00000000000000000000000000000000000000000000000000000000&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token number">1530014400</span><span class="token punctuation">,</span>
    <span class="token string">&quot;gasLimit&quot;</span><span class="token operator">:</span> <span class="token number">10000000</span><span class="token punctuation">,</span>
    <span class="token string">&quot;beneficiary&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000000000000000&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;gasUsed&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;totalScore&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;txsRoot&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x45b0cfc220ceec5b7c1c62c4d4193d38e4eba48e8815729ce75f9c0ab0e4c1c0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;stateRoot&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x4ec3af0acbad1ae467ad569337d2fe8576fe303928d35b8cdd91de47e9ac84bb&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;receiptsRoot&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x45b0cfc220ceec5b7c1c62c4d4193d38e4eba48e8815729ce75f9c0ab0e4c1c0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;signer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000000000000000&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;isTrunk&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string">&quot;transactions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="transaction-visitor"><a href="#transaction-visitor" class="header-anchor">#</a> Transaction Visitor</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> tx <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'0x9daa5b584a98976dfca3d70348b44ba5332f966e187ba84510efb810a0f9f851'</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>Parameters</strong></p> <ul><li><code>id</code> - <code>string</code>: Transaction ID to be visited (As long as the revision is set, it can't be changed again)</li></ul> <p>Returns <code>Thor.TransactionVisitor</code></p> <ul><li><code>id</code> - <code>number|string(readonly)</code>: Block number or ID to be visited</li> <li><code>get</code> - <code>(): Promise&lt;Thor.Transaction&gt;</code>: Get the transaction detail</li> <li><code>getReceipt</code> - <code>(): Promise&lt;Thor.Receipt&gt;</code>: Get the transaction receipt</li></ul> <h4 id="get-transaction-detail"><a href="#get-transaction-detail" class="header-anchor">#</a> Get Transaction Detail</h4> <p>Returns <a href="#thor-transaction">Thor.Transaction</a></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> transaction<span class="token operator">=</span>connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'0x9daa5b584a98976dfca3d70348b44ba5332f966e187ba84510efb810a0f9f851'</span><span class="token punctuation">)</span>

transaction<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>tx<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tx<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token string">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x9daa5b584a98976dfca3d70348b44ba5332f966e187ba84510efb810a0f9f851&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;chainTag&quot;</span><span class="token operator">:</span> <span class="token number">39</span><span class="token punctuation">,</span>
    <span class="token string">&quot;blockRef&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x00003abac0432454&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;expiration&quot;</span><span class="token operator">:</span> <span class="token number">720</span><span class="token punctuation">,</span>
    <span class="token string">&quot;clauses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;to&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x7567d83b7b8d80addcb281a71d54fc7b3364ffed&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x152d02c7e14af6800000&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;gasPriceCoef&quot;</span><span class="token operator">:</span> <span class="token number">128</span><span class="token punctuation">,</span>
    <span class="token string">&quot;gas&quot;</span><span class="token operator">:</span> <span class="token number">21000</span><span class="token punctuation">,</span>
    <span class="token string">&quot;origin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xe59d475abe695c7f67a8a2321f33a856b0b4c71d&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;nonce&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x12256df6fb&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;dependsOn&quot;</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token string">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">128</span><span class="token punctuation">,</span>
    <span class="token string">&quot;meta&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;blockID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x00003abbf8435573e0c50fed42647160eabbe140a87efbe0ffab8ef895b7686e&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;blockNumber&quot;</span><span class="token operator">:</span> <span class="token number">15035</span><span class="token punctuation">,</span>
        <span class="token string">&quot;blockTimestamp&quot;</span><span class="token operator">:</span> <span class="token number">1530164750</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="get-transaction-receipt"><a href="#get-transaction-receipt" class="header-anchor">#</a> Get Transaction Receipt</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> tx <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'0x9daa5b584a98976dfca3d70348b44ba5332f966e187ba84510efb810a0f9f851'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> receipt <span class="token operator">=</span> <span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">getReceipt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>Returns <a href="#thor-receipt">Thor.Receipt</a></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> transaction<span class="token operator">=</span>connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'0x9daa5b584a98976dfca3d70348b44ba5332f966e187ba84510efb810a0f9f851'</span><span class="token punctuation">)</span>

transaction<span class="token punctuation">.</span><span class="token function">getReceipt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>tx<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tx<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token string">&quot;gasUsed&quot;</span><span class="token operator">:</span> <span class="token number">21000</span><span class="token punctuation">,</span>
    <span class="token string">&quot;gasPayer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xe59d475abe695c7f67a8a2321f33a856b0b4c71d&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;paid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x1b5b8c4e33f51f5e8&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;reward&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x835107ddc632302c&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;reverted&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token string">&quot;meta&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;blockID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x00003abbf8435573e0c50fed42647160eabbe140a87efbe0ffab8ef895b7686e&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;blockNumber&quot;</span><span class="token operator">:</span> <span class="token number">15035</span><span class="token punctuation">,</span>
        <span class="token string">&quot;blockTimestamp&quot;</span><span class="token operator">:</span> <span class="token number">1530164750</span><span class="token punctuation">,</span>
        <span class="token string">&quot;txID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x9daa5b584a98976dfca3d70348b44ba5332f966e187ba84510efb810a0f9f851&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;txOrigin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xe59d475abe695c7f67a8a2321f33a856b0b4c71d&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;outputs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;contractAddress&quot;</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
            <span class="token string">&quot;events&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;transfers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="filter"><a href="#filter" class="header-anchor">#</a> Filter</h3> <p>Filter event and transfer logs on the blockchain. Filter often works with <code>Connex.Thor.Account</code>, either creates a filter from an event or packs criteria and then assembles several criteria and sets to a filter. But also there is a way of creating a filter and assembling criteria as per your need then apply it.</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> f <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>kind<span class="token operator">:</span> <span class="token string">'event'</span><span class="token operator">|</span><span class="token string">'transfer'</span><span class="token punctuation">,</span> criteria<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>Thor<span class="token punctuation">.</span>Filter<span class="token punctuation">.</span>Criteria<span class="token operator">&gt;</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>Parameters</strong></p> <ul><li><code>kind</code> - <code>'event'|'transfer'</code>: Kind of filter</li> <li><code>criteria</code> - <code>Array&lt;Thor.Filter.Criteria&gt;</code>: Criteria set for the filter, either array of <code>Event.Criteria</code> or an array of <code>Transfer.Criteria</code>, items in the criteria array will be combined by <code>OR</code> operator to filter the events: e.g. [{&quot;ConA&quot;: &quot;A&quot;}, {&quot;ConB&quot;: &quot;B&quot;, &quot;ConC&quot;: &quot;C&quot;}] is '<code>ConA=A</code> OR (<code>ConB=B</code> AND <code>ConC=C</code>)'</li></ul> <p><code>Thor.Filter.Criteria</code>:</p> <p>Filters support two different types of log: <code>event</code> and <code>transfer</code> so there are two types of <code>Thor.Filter.Criteria</code>.</p> <p><code>Thor.Filter.Event.Criteria:</code></p> <ul><li><code>address</code> - <code>string(optional)</code>: The address to get logs from</li> <li><code>topic0</code> - <code>string(optional)</code>: Topic0 to match</li> <li><code>topic1</code> - <code>string(optional)</code>: Topic1 to match</li> <li><code>topic2</code> - <code>string(optional)</code>: Topic2 to match</li> <li><code>topic3</code> - <code>string(optional)</code>: Topic3 to match</li> <li><code>topic4</code> - <code>string(optional)</code>: Topic4 to match</li></ul> <p><code>Thor.Filter.Transfer.Criteria:</code></p> <ul><li><code>txOrigin</code> - <code>string(optional)</code>: Signer address of tx</li> <li><code>sender</code> - <code>string(optional)</code>: VET sender address</li> <li><code>recipient</code> - <code>string(optional)</code>: VET recipient address</li></ul> <p>Returns <code>Thor.Filter</code></p> <ul><li><code>order</code> - <code>(order: 'asc'|'desc'): this</code>: Set the order for filter</li> <li><code>range</code> - <code>(range: Thor.Filter.Range): this</code>: Set the range for the filter</li> <li><code>apply</code> - <code>(offset: number, limit: number): Promise&lt;Thor.Filter.Result&gt;</code>: Apply the filter and get the result</li></ul> <p><a href="#thor-filter-result">Thor.Filter.Result</a></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code>connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'event'</span><span class="token punctuation">,</span><span class="token punctuation">[</span>
    <span class="token comment">// Matches VIP-180 Transfer from '0xd3ae78222beadb038203be21ed5ce7c9b1bff602'</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000456E65726779&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;topic0&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;topic1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x000000000000000000000000d3ae78222beadb038203be21ed5ce7c9b1bff602&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// Matches VIP-180 Transfer to '0x7567d83b7b8d80addcb281a71d54fc7b3364ffed'</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000456E65726779&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;topic0&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;topic2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000007567d83b7b8d80addcb281a71d54fc7b3364ffed&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// Next you can set other options or executes the filter</span>
</code></pre></div><h4 id="set-filter-range"><a href="#set-filter-range" class="header-anchor">#</a> Set filter range</h4> <p><strong>Parameters</strong></p> <p><code>Thor.Filter.Range:</code></p> <ul><li><code>unit</code> - <code>'block'|'time'</code>: Range unit, can be filtered by block number or timestamp in second</li> <li><code>from</code> - <code>Number</code>: Start point in unit</li> <li><code>to</code> - <code>Number</code>: Stop point in unit</li></ul> <p>Returns <code>this</code></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> filter <span class="token operator">=</span>  connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'transfer'</span><span class="token punctuation">)</span>

<span class="token comment">// Set the filter range as block 0 to block 100</span>
filter<span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    unit<span class="token operator">:</span> <span class="token string">'block'</span><span class="token punctuation">,</span>
    <span class="token keyword">from</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    to<span class="token operator">:</span> <span class="token number">100</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// Next you can set other options or executes the filter</span>
</code></pre></div><h4 id="execute-the-filter-2"><a href="#execute-the-filter-2" class="header-anchor">#</a> Execute the filter</h4> <p><strong>Parameters</strong></p> <ul><li><code>offset</code> - <code>Number</code>: Start cursor in the result</li> <li><code>limit</code> - <code>Number</code>: Constrain the number of result returned</li></ul> <p>Returns <a href="#thor-filter-result">Promise&lt;Array&lt;Thor.Filter.Result&gt;&gt;</a></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// Solidity: event Transfer(address indexed _from, address indexed _to, uint256 _value)</span>
<span class="token keyword">const</span> transferEventABI <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;anonymous&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;indexed&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_from&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;indexed&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_to&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;indexed&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_value&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;uint256&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;Transfer&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;event&quot;</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> transferEvent <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">account</span><span class="token punctuation">(</span><span class="token string">'0x0000000000000000000000000000456E65726779'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">event</span><span class="token punctuation">(</span>transferEventABI<span class="token punctuation">)</span>

<span class="token comment">// Create a filter from eventABI</span>
<span class="token keyword">const</span> filter <span class="token operator">=</span> transferEvent<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
    _to<span class="token operator">:</span> <span class="token string">'0xd3ae78222beadb038203be21ed5ce7c9b1bff602'</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// Set filter options</span>
filter
    <span class="token punctuation">.</span><span class="token function">order</span><span class="token punctuation">(</span><span class="token string">'desc'</span><span class="token punctuation">)</span> <span class="token comment">// Work from the last event</span>
    <span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        unit<span class="token operator">:</span> <span class="token string">'block'</span><span class="token punctuation">,</span>
        <span class="token keyword">from</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
        to<span class="token operator">:</span> <span class="token number">40000</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// Set the range</span>
<span class="token comment">// Apply the filter, get the first one</span>
<span class="token function">filter</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>logs<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>logs<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000456e65726779&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;topics&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;0x0000000000000000000000007567d83b7b8d80addcb281a71d54fc7b3364ffed&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;0x00000000000000000000000000f34f4462c0f6a6f5e76fb1b6d63f05a32ed2c6&quot;</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000000000000000000000000de0b6b3a7640000&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;meta&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;blockID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0000813fbe48421dfdc9400f1f4e1d67ce34256538afd1c2149c4047d72c4175&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;blockNumber&quot;</span><span class="token operator">:</span> <span class="token number">33087</span><span class="token punctuation">,</span>
            <span class="token string">&quot;blockTimestamp&quot;</span><span class="token operator">:</span> <span class="token number">1530345270</span><span class="token punctuation">,</span>
            <span class="token string">&quot;txID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x29b0af3ffb8eff4cc48a24ce9a800aaf4d0e92b72dbcf17ce01b14fd01af1290&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;txOrigin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x7567d83b7b8d80addcb281a71d54fc7b3364ffed&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;clauseIndex&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;decoded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;0&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x7567D83b7b8d80ADdCb281A71d54Fc7B3364ffed&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x00F34f4462c0f6a6f5E76Fb1b6D63F05A32eD2C6&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000000000000000&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;_from&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x7567D83b7b8d80ADdCb281A71d54Fc7B3364ffed&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;_to&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x00F34f4462c0f6a6f5E76Fb1b6D63F05A32eD2C6&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;_value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000000000000000&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token comment">// Filter the transfer log that from 0x7567d83b7b8d80addcb281a71d54fc7b3364ffed</span>
<span class="token keyword">const</span> filter <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'transfer'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    sender<span class="token operator">:</span> <span class="token string">'0x7567d83b7b8d80addcb281a71d54fc7b3364ffed'</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token function">filter</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>logs<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>logs<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;sender&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x7567d83b7b8d80addcb281a71d54fc7b3364ffed&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;recipient&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x3cc190d342a0d3a7365538d94adffec34f789cd0&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xde0b6b3a7640000&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;meta&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;blockID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x00005be5d2129f01cb60ef20b43208091722bf6e0086ac24745cd26698e9d93d&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;blockNumber&quot;</span><span class="token operator">:</span> <span class="token number">23525</span><span class="token punctuation">,</span>
            <span class="token string">&quot;blockTimestamp&quot;</span><span class="token operator">:</span> <span class="token number">1530249650</span><span class="token punctuation">,</span>
            <span class="token string">&quot;txID&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xd08e959c0ae918ab72d4da162856e7a4556c576b8ae849d09dbd38e5a419e94b&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;txOrigin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x7567d83b7b8d80addcb281a71d54fc7b3364ffed&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;clauseIndex&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span> 
</code></pre></div><h3 id="explainer"><a href="#explainer" class="header-anchor">#</a> Explainer</h3> <p>Explainer gets what would be produced after blockchain executes a tx, without committing to the blockchain.</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> exp <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">explain</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>Returns <code>Thor.Explainer</code></p> <ul><li><code>caller</code> - <code>(addr: string): this</code>: Set caller</li> <li><code>gas</code> - <code>(gas: number): this</code>: Set max allowed gas</li> <li><code>gasPrice</code> - <code>(gp: string): this</code>: Set gas price in hex string</li> <li><code>gasPayer</code> - <code>(addr: string):this</code>: Set gas payer</li> <li><code>cache</code> - <code>(hints: string[]): this</code>: Turn on caching for the explainer and set the condition of cache invalidation, read <a href="#caching-a-contract-call">more</a>.</li> <li><code>execute</code>: execute to get the output</li></ul> <h4 id="execute-the-explainer"><a href="#execute-the-explainer" class="header-anchor">#</a> Execute the explainer</h4> <p><strong>Parameters</strong></p> <ul><li><code>Clauses</code>  - <a href="#vm-clause">Array&lt;VM.Clause&gt;</a></li></ul> <p>Returns <a href="#vm-output">Promise&lt;Array&lt;VM.Output&gt;&gt;</a></p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> explainer<span class="token operator">=</span>connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">explain</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
explainer
    <span class="token punctuation">.</span><span class="token function">gas</span><span class="token punctuation">(</span><span class="token number">200000</span><span class="token punctuation">)</span> <span class="token comment">// Set maximum gas</span>
    <span class="token punctuation">.</span><span class="token function">caller</span><span class="token punctuation">(</span><span class="token string">'0x7567d83b7b8d80addcb281a71d54fc7b3364ffed'</span><span class="token punctuation">)</span> <span class="token comment">// Set caller</span>

<span class="token comment">// Prepare energy transfer clause</span>
<span class="token keyword">const</span> transferABI <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;constant&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_to&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_amount&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;uint256&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;transfer&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;outputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;bool&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;payable&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;stateMutability&quot;</span><span class="token operator">:</span><span class="token string">&quot;nonpayable&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;function&quot;</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> transferMethod <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">account</span><span class="token punctuation">(</span><span class="token string">'0x0000000000000000000000000000456E65726779'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span>transferABI<span class="token punctuation">)</span>
<span class="token comment">// Alice's address and amount in wei</span>
<span class="token keyword">const</span> energyClause <span class="token operator">=</span> transferMethod<span class="token punctuation">.</span><span class="token function">asClause</span><span class="token punctuation">(</span><span class="token string">'0xd3ae78222beadb038203be21ed5ce7c9b1bff602'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>

explainer<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        to<span class="token operator">:</span> <span class="token string">'0xd3ae78222beadb038203be21ed5ce7c9b1bff602'</span><span class="token punctuation">,</span>
        value<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token string">'0x'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    energyClause
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>outputs<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>outputs<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;events&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&quot;transfers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token string">&quot;sender&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x7567d83b7b8d80addcb281a71d54fc7b3364ffed&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;recipient&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xd3ae78222beadb038203be21ed5ce7c9b1bff602&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x1&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&quot;gasUsed&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">&quot;reverted&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string">&quot;vmError&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000000000000000000000000000000000000001&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;events&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token string">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000456e65726779&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;topics&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token string">&quot;0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef&quot;</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;0x0000000000000000000000007567d83b7b8d80addcb281a71d54fc7b3364ffed&quot;</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;0x000000000000000000000000d3ae78222beadb038203be21ed5ce7c9b1bff602&quot;</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token string">&quot;data&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0000000000000000000000000000000000000000000000000000000000000001&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&quot;transfers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&quot;gasUsed&quot;</span><span class="token operator">:</span> <span class="token number">13326</span><span class="token punctuation">,</span>
        <span class="token string">&quot;reverted&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token string">&quot;vmError&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">]</span>
</code></pre></div><h2 id="connex-vendor"><a href="#connex-vendor" class="header-anchor">#</a> Connex.Vendor</h2> <h3 id="acquire-a-signing-service"><a href="#acquire-a-signing-service" class="header-anchor">#</a> Acquire a Signing Service</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code>Vendor<span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span>kind<span class="token operator">:</span> <span class="token string">'tx'</span><span class="token operator">|</span><span class="token string">'cert'</span><span class="token punctuation">,</span> msg<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span>TxMessage<span class="token operator">|</span>CertMessage<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> TxSigningService<span class="token operator">|</span>CertSigningService
</code></pre></div><p><strong>Parameters</strong></p> <ul><li><code>kind</code> - <code>'tx'|'cert'</code>: Kind of signing service</li> <li><code>msg</code> - <code>Array&lt;TxMessage|CertMessage&gt;</code>: Message to sign</li></ul> <p><code>TxMessage:</code></p> <ul><li><code>to</code>:  Same as <a href="#vm-clause"><code>VM.Clause.To</code></a></li> <li><code>value</code>:  Same as <a href="#vm-clause"><code>VM.Clause.Value</code></a></li> <li><code>data</code>:  Same as <a href="#vm-clause"><code>VM.Clause.Data</code></a></li> <li><code>comment</code> - <code>string(optional)</code>: Comment to the clause</li> <li><code>abi</code> - <code>object(optional)</code>: ABI definition of this clause, for User-Agent decoding the data</li></ul> <p><code>CertMessage:</code></p> <ul><li><code>purpose</code> - <code>'identification' | 'agreement'</code>:  Purpose of the request, <code>identification</code> means request the user to sign a random message to get the address and <code>agreement</code> means ask user to sign the agreement for using the VeChain apps</li> <li><code>payload</code>:
<ul><li><code>type</code> - <code>'text'</code>: Payload type,only <code>text</code> is supported</li> <li><code>content</code> - <code>string</code>: Content of of the request</li></ul></li></ul> <p>Returns <code>Connex.Vendor.TxSigningService</code> or <code>Connex.Vendor.CertSigningService</code></p> <h3 id="transaction-signing-service"><a href="#transaction-signing-service" class="header-anchor">#</a> Transaction Signing Service</h3> <p><code>Connex.Vendor.TxSigningService:</code></p> <ul><li><code>signer</code> - <code>(addr: string): this</code>: Enforces the specified address to sign the transaction</li> <li><code>gas</code> - <code>(gas: number): this</code>: Enforces the specified number as the maximum gas that can be consumed for the transaction</li> <li><code>dependsOn</code> - <code>(txid: string): this</code>: Set another txid as dependency (<a href="/thor/learn/transaction-model.html#dependson">Reference</a>)</li> <li><code>link</code> - <code>(url: string): this</code>: Set the link to reveal transaction-related information, the link will be used for connex to assemble a <code>callback url</code> by replacing the placeholder <code>{txid}</code> by <code>Transaction ID</code></li> <li><code>comment</code> - <code>(text: string): this</code>: Set the comment for the transaction that will be revealed to the user</li> <li><code>delegate</code> - <code>(url: string, signer: string): this</code>: Enable VIP-191 by setting the url and the fee payer's address. Wallets(Sync2) will request fee payer's signature with the url and required parameters, read <a href="https://github.com/vechain/VIPs/blob/master/vips/VIP-201.md#explicit-grant-flow" target="_blank" rel="noopener noreferrer">this<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to get the detail about building a VIP-191 service</li> <li><code>accepted</code> - <code>(cb: ()=&gt;void): this</code>: Register a callback function which will be fired once user's wallet accepted the request</li> <li><code>request</code>: Perform the request</li></ul> <h4 id="perform-transaction-signing-request"><a href="#perform-transaction-signing-request" class="header-anchor">#</a> Perform Transaction Signing Request</h4> <p><strong>Parameters</strong></p> <ul><li><code>msg</code> - <code>Array&lt;TxMessage&gt;</code></li></ul> <p>Returns <code>Promise&lt;Connex.Vendor.TXResponse&gt;:</code></p> <ul><li><code>txid</code> - <code>string</code>: Transaction identifier</li> <li><code>signer</code> - <code>string</code>: Signer address</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">// Prepare energy transfer clause</span>
<span class="token keyword">const</span> transferABI <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;constant&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;inputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_to&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;_amount&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;uint256&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;transfer&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;outputs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;bool&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">&quot;payable&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&quot;stateMutability&quot;</span><span class="token operator">:</span><span class="token string">&quot;nonpayable&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;function&quot;</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> transferMethod <span class="token operator">=</span> connex<span class="token punctuation">.</span>thor<span class="token punctuation">.</span><span class="token function">account</span><span class="token punctuation">(</span><span class="token string">'0x0000000000000000000000000000456E65726779'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span>transferABI<span class="token punctuation">)</span>
<span class="token comment">// Connex author's address and amount in wei</span>
<span class="token keyword">const</span> energyClause <span class="token operator">=</span> transferMethod<span class="token punctuation">.</span><span class="token function">asClause</span><span class="token punctuation">(</span><span class="token string">'0xd3ae78222beadb038203be21ed5ce7c9b1bff602'</span><span class="token punctuation">,</span> <span class="token string">'1000000000000000000000'</span><span class="token punctuation">)</span>

connex<span class="token punctuation">.</span>vendor<span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span><span class="token string">'tx'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        to<span class="token operator">:</span> <span class="token string">'0xd3ae78222beadb038203be21ed5ce7c9b1bff602'</span><span class="token punctuation">,</span>
        value<span class="token operator">:</span> <span class="token string">'100000000000000000000'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token string">'0x'</span><span class="token punctuation">,</span>
        comment<span class="token operator">:</span> <span class="token string">'Transfer 100 VET'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        comment<span class="token operator">:</span> <span class="token string">'Transfer 1000 VeThor'</span><span class="token punctuation">,</span>
        <span class="token operator">...</span>energyClause
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">signer</span><span class="token punctuation">(</span><span class="token string">'0x7567d83b7b8d80addcb281a71d54fc7b3364ffed'</span><span class="token punctuation">)</span> <span class="token comment">// Enforce signer</span>
<span class="token punctuation">.</span><span class="token function">gas</span><span class="token punctuation">(</span><span class="token number">200000</span><span class="token punctuation">)</span> <span class="token comment">// Set maximum gas</span>
<span class="token punctuation">.</span><span class="token function">link</span><span class="token punctuation">(</span><span class="token string">'https://connex.vecha.in/{txid}'</span><span class="token punctuation">)</span> <span class="token comment">// User will be back to the app by the url https://connex.vecha.in/0xffff....</span>
<span class="token punctuation">.</span><span class="token function">comment</span><span class="token punctuation">(</span><span class="token string">'Donate 100 VET and 1000 VeThor to the author of connex'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token string">&quot;signer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x7567d83b7b8d80addcb281a71d54fc7b3364ffed&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;txId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x4e9a7eec33ef6cfff8ff5589211a94070a0284df17c2ead6267f1913169bd340&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="perform-a-vip-191-enabled-request"><a href="#perform-a-vip-191-enabled-request" class="header-anchor">#</a> Perform a VIP-191 enabled request</h4> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token keyword">const</span> service <span class="token operator">=</span>  <span class="token string">'https://pay-tx-fee-for-you.vecha.in/requests'</span>
<span class="token keyword">const</span> payer <span class="token operator">=</span> <span class="token string">'0x733b7269443c70de16bbf9b0615307884bcc5636'</span>

connex<span class="token punctuation">.</span>vendor<span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span><span class="token string">'tx'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
    to<span class="token operator">:</span> <span class="token string">'0xd3ae78222beadb038203be21ed5ce7c9b1bff602'</span><span class="token punctuation">,</span>
    value<span class="token operator">:</span> <span class="token string">'100000000000000000000'</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token string">'0x'</span><span class="token punctuation">,</span>
    comment<span class="token operator">:</span> <span class="token string">'Transfer 100 VET'</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">delegate</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> payer<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token string">&quot;signer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x7567d83b7b8d80addcb281a71d54fc7b3364ffed&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;txId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x4e9a7eec33ef6cfff8ff5589211a94070a0284df17c2ead6267f1913169bd340&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="certificate-signing-service"><a href="#certificate-signing-service" class="header-anchor">#</a> Certificate Signing Service</h3> <p>The certificate is a message signing based mechanism which can easily request user's identification(address) or user to agree to your terms or agreements.</p> <p><code>Connex.Vendor.CertSigningService:</code></p> <ul><li><code>signer</code> - <code>(addr: string): this</code>: Enforces the specified address to sign the certificate</li> <li><code>link</code> - <code>(url: string): this</code>: Set the link to reveal certificate-related information, the link will be used for connex to assemble a <code>callback url</code> by replacing the placeholder <code>{certid}</code> by <code>Certificate ID</code>, which is computed by <code>blake2b256(Certificate.encode(cert))</code></li> <li><code>accepted</code> - <code>(cb: ()=&gt;void): this</code>: Register a callback function which will be fired once user's wallet accepted the request</li> <li><code>request</code>: Send the request</li></ul> <h4 id="perform-certificate-signing-request"><a href="#perform-certificate-signing-request" class="header-anchor">#</a> Perform Certificate Signing Request</h4> <p><strong>Parameters</strong></p> <p>Returns <code>Promise&lt;Connex.Vendor.CertResponse&gt;</code>:</p> <ul><li><code>annex</code>:
<ul><li><code>domain</code> - <code>string</code>: Domain of the VeChain apps</li> <li><code>timestamp</code> - <code>number</code>: Head block timestamp when user accepts the request</li> <li><code>signer</code> - <code>string</code>: Signer address</li></ul></li> <li><code>signature</code> - <code>string</code>: Signature</li></ul> <div class="language-typescript extra-class"><pre class="language-typescript"><code>connex<span class="token punctuation">.</span>vendor<span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span><span class="token string">'cert'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    purpose<span class="token operator">:</span> <span class="token string">'identification'</span><span class="token punctuation">,</span>
    payload<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
        content<span class="token operator">:</span> <span class="token string">'random generated string'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">link</span><span class="token punctuation">(</span><span class="token string">'https://connex.vecha.in/{certid}'</span><span class="token punctuation">)</span> <span class="token comment">// User will be back to the app by the url https://connex.vecha.in/0xffff....</span>
<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token string">&quot;annex&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;domain&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vechain.github.io&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token number">1545826680</span><span class="token punctuation">,</span>
        <span class="token string">&quot;signer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xf6e78a5584c06e2dec5c675d357f050a5402a730&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;signature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x30db85935f620f7c506462f3ec7552479a56db8cbd0c2a3f295a92ad4e2f37ae2d2b2a2a212c45c43eeaf6e5caa8b3348038c01192ed226d12a118f204c6729200&quot;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Ask user to sign the agreement</span>
connex<span class="token punctuation">.</span>vendor<span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span><span class="token string">'cert'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    purpose<span class="token operator">:</span> <span class="token string">'agreement'</span><span class="token punctuation">,</span>
    payload<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">type</span><span class="token operator">:</span> <span class="token string">'text'</span><span class="token punctuation">,</span>
        content<span class="token operator">:</span> <span class="token string">'agreement'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>result<span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token operator">&gt;</span><span class="token punctuation">{</span>
    <span class="token string">&quot;annex&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;domain&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vechain.github.io&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token number">1545826770</span><span class="token punctuation">,</span>
        <span class="token string">&quot;signer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xf6e78a5584c06e2dec5c675d357f050a5402a730&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;signature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x2078a8a2fdfa61df579516162d373cd18b889fc5cb5c5ab51f4e1d71b21742ec6a8072f645502c82bf997529a126bcaefd38df385a079c94f9b2fd03b546aa1400&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="types"><a href="#types" class="header-anchor">#</a> Types</h2> <h3 id="thor-status"><a href="#thor-status" class="header-anchor">#</a> Thor.Status</h3> <ul><li><code>progress</code> - <code>number</code>: A number [0-1] indicates the syncing progress of the currently connected node</li> <li><code>head</code>: Summarized block info that indicates the head block of the currently connected node
<ul><li><code>id</code> - <code>string</code>: Identifier of the block (bytes32)</li> <li><code>number</code> - <code>number</code>: Number of the block</li> <li><code>timestamp</code> - <code>number</code>: Unix timestamp of the block</li> <li><code>parentID</code> - <code>string</code>: ID of the parent block (bytes32)</li> <li><code>txFeatures</code> - <code>number</code>: Bitset of supported txs features</li> <li><code>gasLimit</code> - <code>number</code>: Block gaslimit</li></ul></li></ul> <h3 id="thor-block"><a href="#thor-block" class="header-anchor">#</a> Thor.Block</h3> <ul><li><code>id</code> - <code>string</code>: Identifier of the block (bytes32)</li> <li><code>number</code> - <code>number</code>: Number of block</li> <li><code>parentID</code> - <code>string</code>: ID of parent block (bytes32)</li> <li><code>timestamp</code> - <code>number</code>: Unix timestamp of block</li> <li><code>gasLimit</code> - <code>number</code>: Gas limit of the block</li> <li><code>beneficiary</code> - <code>string</code>: Address of account to receive block reward</li> <li><code>gasUsed</code> - <code>number</code>: Actual gas used of block</li> <li><code>totalScore</code> - <code>number</code>: Score of the main chain</li> <li><code>txRoot</code> - <code>string</code>: Root hash of transaction in the block (bytes32)</li> <li><code>stateRoot</code> - <code>string</code>: Root hash of state (bytes32)</li> <li><code>signer</code> - <code>string</code>: Address of who signed the block (bytes20)</li> <li><code>transactions</code> - <code>Array&lt;string&gt;</code>: Array of transaction IDs</li> <li><code>isTrunk</code> - <code>bool</code>: Whether the block is in trunk</li> <li><code>txFeatures</code> - <code>number</code>: Bitset of supported txs features</li></ul> <h3 id="thor-account"><a href="#thor-account" class="header-anchor">#</a> Thor.Account</h3> <ul><li><code>balance</code> - <code>string</code>: Account balance in hex string</li> <li><code>energy</code> - <code>string</code>: Account energy in hex string</li> <li><code>hasCode</code> - <code>bool</code>: Whether the account is a smart contract</li></ul> <h3 id="thor-transaction"><a href="#thor-transaction" class="header-anchor">#</a> Thor.Transaction</h3> <ul><li><code>id</code> - <code>string</code>: Identifier of the transaction</li> <li><code>chainTag</code> - <code>number</code>: Last byte of genesis block ID</li> <li><code>blockRef</code> - <code>string</code>: The BlockRef (an eight-byte array string) includes two parts: the first four bytes contains the block height (number) and the rest four bytes is part of the referred block’s ID. If the referred block is future block, blockNumber + &quot;00000000&quot; should be added</li> <li><code>expiration</code> - <code>number</code> : Expiration relative to blockRef (in unit block)</li> <li><code>clauses</code> - <a href="#vm-clause">Array&lt;VM.Clause&gt;</a></li> <li><code>gasPriceCoef</code> - <code>number</code>: Coefficient used to calculate the final gas price</li> <li><code>gas</code>  - <code>number</code>: Maximum of gas can be consumed to execute this transaction
origin</li> <li><code>nonce</code> - <code>string</code>: Transaction nonce</li> <li><code>origin</code> - <code>string</code>: The one who signed the transaction</li> <li><code>delegator</code> - <code>string</code>: The delegator who paid the gas fee</li> <li><code>dependsOn</code> - <code>string|null</code>: ID of the transaction which the current transaction depends (bytes32)</li> <li><code>size</code> - <code>number</code>: Byte size of the transaction that is RLP encoded</li> <li><code>meta</code> - <a href="#thor-transaction-meta">Thor.Transaction.Meta</a></li></ul> <h3 id="thor-transaction-meta"><a href="#thor-transaction-meta" class="header-anchor">#</a> Thor.Transaction.Meta</h3> <ul><li><code>blockID</code> - <code>string</code>: Block identifier of transaction</li> <li><code>blockNumber</code> - <code>number</code>: Block number of transaction</li> <li><code>blockTimestamp</code> - <code>number</code>: Block unix timestamp of transaction</li></ul> <h3 id="thor-receipt"><a href="#thor-receipt" class="header-anchor">#</a> Thor.Receipt</h3> <ul><li><code>gasUsed</code> - <code>number</code>: Actual gas used of block</li> <li><code>gasPayer</code> - <code>string</code>: Address of account who paid used gas</li> <li><code>paid</code> - <code>string</code>: Hex form of amount of paid energy</li> <li><code>reward</code> - <code>string</code>: Hex form of amount of reward</li> <li><code>reverted</code> - <code>boolean</code>: true means the transaction was reverted</li> <li><code>outputs</code> - <a href="#thor-receipt-output">Array&lt;Thor.Receipt.Output&gt;</a>: Clause's corresponding outputs</li> <li><code>meta</code> - <a href="#thor-receipt-meta">Thor.Receipt.Meta</a></li></ul> <h3 id="thor-receipt-output"><a href="#thor-receipt-output" class="header-anchor">#</a> Thor.Receipt.Output</h3> <ul><li><code>contractAddress</code> - <code>string</code>: Deployed contract address, if the corresponding clause is a contract deployment clause</li> <li><code>events</code> - <a href="#thor-log-event">Array&lt;Thor.Log.Event&gt;</a>: Event log objects produced during clause execution</li> <li><code>transfers</code> - <a href="#thor-log-transfer">Array&lt;Thor.Log.Transfer&gt;</a> Transfer log produced during clause execution</li></ul> <h3 id="thor-receipt-meta"><a href="#thor-receipt-meta" class="header-anchor">#</a> Thor.Receipt.Meta</h3> <ul><li><code>blockID</code> - <code>string</code>: Block identifier of log</li> <li><code>blockNumber</code> - <code>number</code>: Block number of log</li> <li><code>blockTimestamp</code> - <code>number</code>: Block unix timestamp of log</li> <li><code>txID</code> - <code>string</code>: Transaction identifier of the log</li> <li><code>txOrigin</code> - <code>string</code>: Transaction signer the log</li></ul> <h3 id="thor-filter-result"><a href="#thor-filter-result" class="header-anchor">#</a> Thor.Filter.Result</h3> <p>Either <code>Event</code> - <a href="#vm-event">VM.Event&amp;Thor.Filter.Log.Meta</a> or <code>Transfer</code> - <a href="#vm-transfer">VM.Transfer&amp;Thor.Filter.Log.Meta</a></p> <h3 id="thor-filter-log-meta"><a href="#thor-filter-log-meta" class="header-anchor">#</a> Thor.Filter.Log.Meta</h3> <ul><li><code>blockID</code> - <code>string</code>: Block identifier of log</li> <li><code>blockNumber</code> - <code>number</code>: Block number of log</li> <li><code>blockTimestamp</code> - <code>number</code>: Block unix timestamp of log</li> <li><code>txID</code> - <code>string</code>: Transaction identifier of the log</li> <li><code>txOrigin</code> - <code>string</code>: Transaction signer the log</li> <li><code>clauseIndex</code> - <code>number</code>: Clause index of transaction</li></ul> <h3 id="vm-clause"><a href="#vm-clause" class="header-anchor">#</a> VM.Clause</h3> <ul><li><code>to</code> - <code>string|null</code>: The destination address of the message, null for a contract-creation transaction</li> <li><code>value</code>- <code>string|number</code>: The value, with a unit of <code>wei</code>, transferred through the transaction. Specifically, it plays the role of endowment when the transaction is contract-creation type</li> <li><code>data</code> - <code>string</code>: Either the <a href="http://solidity.readthedocs.io/en/latest/abi-spec.html" target="_blank" rel="noopener noreferrer">ABI byte string<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> containing the data of the function call on a contract or the initialization code of a contract-creation transaction</li></ul> <h3 id="vm-output"><a href="#vm-output" class="header-anchor">#</a> VM.Output</h3> <ul><li><code>data</code> - <code>string</code>: The returned data of the operation(hex string), e.g. a smart contract function returned value</li> <li><code>vmError</code> - <code>string</code>: VM error that occurred during the execution</li> <li><code>reverted</code> - <code>boolean</code>: Indicated whether the execution is reverted by the VM</li> <li><code>events</code> - <a href="#vm-event">Array&lt;VM.Event&gt;</a>: Event logs that produced during the execution</li> <li><code>transfer</code> - <a href="#vm-transfer">Array&lt;VM.Transfer&gt;</a>: Transfer logs that produced during the execution</li></ul> <h3 id="vm-event"><a href="#vm-event" class="header-anchor">#</a> VM.Event</h3> <ul><li><code>address</code> - <code>string</code>: The address of contract which produces the event (bytes20)</li> <li><code>topics</code> - <code>Array&lt;string&gt;</code>: an array with max 5 32 Byte topics, topic 1-4 contains indexed parameters of the log</li> <li><code>data</code> - <code>string</code>: The data containing non-indexed log parameter</li></ul> <h3 id="vm-transfer"><a href="#vm-transfer" class="header-anchor">#</a> VM.Transfer</h3> <ul><li><code>sender</code> - <code>string</code>: Address that sends vet.</li> <li><code>recipient</code> - <code>string</code>: Address that receives vet.</li> <li><code>amount</code> - <code>string</code>: Amount of vet in <code>wei</code>.</li></ul> <h3 id="decoded"><a href="#decoded" class="header-anchor">#</a> Decoded</h3> <p><code>Decoded</code> is a mixed object that produced by <code>ABI.decode</code> with the ABI definition of <code>EVENT</code> or <code>METHOD</code>. Decoded will be present only at the ABI definition is provided.</p> <ul><li><code>{index}</code> - <code>number</code>: Decoded property by parameter index</li> <li><code>{name}</code> - <code>string</code>: Decoded property by parameter name if present</li> <li><code>revertReason</code> - <code>string(optional)</code>: Reason message when method call reverted. It's usually the second argument of <code>require</code> statement in Solidity, and helpful to diagnose contract code.</li></ul> <p>For example if a method's definition is <code>function name() public pure returns(string name)</code> after perform the simulate call <code>decoded</code> will be like following:</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;decoded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;0&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VeThor&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VeThor&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>You can access the name by calling <code>decoded['name']</code> or <code>decoded['0']</code>(Number index is for non-named outputs).</p> <p>Another example if an event's definition is <code>event Transfer(address indexed _from, address indexed _to, uint256 _value)</code> after performing the filter <code>decoded</code> will be the following:</p> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;decoded&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;0&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x7567D83b7b8d80ADdCb281A71d54Fc7B3364ffed&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x00F34f4462c0f6a6f5E76Fb1b6D63F05A32eD2C6&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000000000000000&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;_from&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x7567D83b7b8d80ADdCb281A71d54Fc7B3364ffed&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;_to&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x00F34f4462c0f6a6f5E76Fb1b6D63F05A32eD2C6&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;_value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000000000000000&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/vechain/docs/edit/master/connex/api.md" target="_blank" rel="noopener noreferrer">Help us to improve this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/14/2021, 9:46:13 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/connex/" class="prev router-link-active">
        Connex
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.4018d393.js" defer></script><script src="/assets/js/3.e8d6679f.js" defer></script><script src="/assets/js/22.235d3b31.js" defer></script><script src="/assets/js/12.bff1bb0a.js" defer></script>
  </body>
</html>
